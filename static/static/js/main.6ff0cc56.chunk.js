(this["webpackJsonpfinance-inv-app"]=this["webpackJsonpfinance-inv-app"]||[]).push([[0],{292:function(e,n,t){},294:function(e,n,t){"use strict";t.r(n);var c=t(0),r=t(110),a=t.n(r),s=t(59),i=t.n(s),o=t(111),u=t(20),l=t(42),b=t(62),h=t(117),p=t.n(h),j=t(118),m=(t(292),t(3)),d=function(){var e=Object(c.useRef)(),n=Object(c.useRef)(),t=Object(c.useState)(void 0),r=Object(u.a)(t,2),a=r[0],s=r[1],h=b.a({phoneNumber:b.b().matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Phone number is not valid").required("Required")});Object(c.useEffect)((function(){e.current=p()("/"),e.current.on("newStatus",(function(e){s(e)})),fetch("/token").then((function(e){return e.json()})).then((function(e){var t=e.token;n.current=new j.Device(t,{warnings:!1})})).catch((function(e){console.error("Error:",e)}))}),[]);var d=function(){var e=Object(o.a)(i.a.mark((function e(t){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={phone:"+972".concat(t.phoneNumber)},e.next=3,n.current.connect({params:c});case 3:e.sent.addListener("accept",(function(){console.log("Call in progress ...")}));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("h1",{children:"Twilio Outbound Call"}),Object(m.jsxs)("main",{className:"main",children:[Object(m.jsx)(l.c,{initialValues:{phoneNumber:""},validationSchema:h,onSubmit:d,children:Object(m.jsxs)(l.b,{className:"form",children:[Object(m.jsx)("label",{className:"label",htmlFor:"phoneNumber",children:"Enter Phone Number"}),Object(m.jsx)(l.a,{className:"input-field",type:"text",id:"phoneNumber",name:"phoneNumber",placeholder:"Phone number"}),Object(m.jsx)("button",{type:"submit",className:"btn",children:"get started"})]})}),Object(m.jsx)("div",{className:"status",children:JSON.stringify(a)})]})]})};a.a.render(Object(m.jsx)(c.StrictMode,{children:Object(m.jsx)(d,{})}),document.getElementById("root"))}},[[294,1,2]]]);
//# sourceMappingURL=main.6ff0cc56.chunk.js.map