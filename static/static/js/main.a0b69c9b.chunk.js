(this["webpackJsonpfinance-inv-app"]=this["webpackJsonpfinance-inv-app"]||[]).push([[0],{292:function(e,n,t){},294:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t(110),a=t.n(c),s=t(59),i=t.n(s),o=t(111),u=t(20),l=t(42),b=t(62),h=t(117),d=t.n(h),m=t(118),j=(t(292),t(2)),p=function(){var e=Object(r.useRef)(),n=Object(r.useRef)(),t=Object(r.useState)(void 0),c=Object(u.a)(t,2),a=c[0],s=c[1],h=b.a({phoneNumber:b.b().matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"* Phone number is not valid").required("* Required")});Object(r.useEffect)((function(){e.current=d()("/"),e.current.on("newStatus",(function(e){s(e)})),fetch("/token").then((function(e){return e.json()})).then((function(e){var t=e.token;n.current=new m.Device(t,{warnings:!1})})).catch((function(e){console.error("Error:",e)}))}),[]);var p=function(){var e=Object(o.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={phone:"+972".concat(t.phoneNumber)},e.next=3,n.current.connect({params:r});case 3:e.sent.addListener("accept",(function(){console.log("Call in progress ...")}));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("h1",{children:"Twilio Outbound Call"}),Object(j.jsxs)("main",{className:"main",children:[Object(j.jsx)(l.c,{initialValues:{phoneNumber:""},validationSchema:h,onSubmit:p,children:function(e){var n=e.errors,t=e.touched;return Object(j.jsxs)(l.b,{className:"form",children:[Object(j.jsx)("label",{className:"label",htmlFor:"phoneNumber",children:"Enter Phone Number ( Israel only - without leading zero )"}),Object(j.jsx)(l.a,{className:"input-field",type:"text",id:"phoneNumber",name:"phoneNumber",placeholder:"Phone number"}),n.phoneNumber&&t.phoneNumber?Object(j.jsx)("div",{className:"error",children:n.phoneNumber}):null,Object(j.jsx)("button",{type:"submit",className:"btn",children:"get started"})]})}}),Object(j.jsx)("div",{className:"status-label",children:"Call status: "}),Object(j.jsx)("div",{className:"status",children:JSON.stringify(a)})]})]})};a.a.render(Object(j.jsx)(r.StrictMode,{children:Object(j.jsx)(p,{})}),document.getElementById("root"))}},[[294,1,2]]]);
//# sourceMappingURL=main.a0b69c9b.chunk.js.map